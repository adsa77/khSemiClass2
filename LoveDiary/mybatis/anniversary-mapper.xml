<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="CoupleMapper">
  
  <insert id="AnniversaryInsert">
    INSERT INTO ANNIVERSARY
    (
    NO
    ,WRITER_NO
    ,TITLE
    ,CONTENT
    ,ENROLL_DATE
    ,MODIFY_DATE
    ,DEL_YN
    ,CODE
    )
	VALUES
	(
	SEQ_MEMBER_NO.NEXTVAL
	,#{writerNo}
	,#{title}
	,#{content}
	,#{enrollDate}
	,SYSDATE
	,'N'
	,#{code}
	)
  </insert>
  
  <select id="getAnniversaryList" resultType="com.kh.love.anniversary.vo.AnniversaryVo">
  	SELECT NO,WRITER_NO,TITLE,CONTENT,ENROLL_DATE ,MODIFY_DATE,DEL_YN 
  	FROM ANNIVERSARY
  	WHERE DEL_YN = 'N'
  	<if test="type == 'title'">
		AND TITLE LIKE '%${value}%'
	</if>
	
	<if test="type == 'content'">
		AND CONTENT LIKE '%${value}%'
	</if>
	
  </select>

</mapper>