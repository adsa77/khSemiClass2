<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="NoticeMapper">

	<select id="getNoticeCnt" resultType="int">
		SELECT COUNT(NO)
		FROM NOTICE
		WHERE DEL_YN = 'N'
	</select>

	<select id="selectNoticeList" parameterType="com.kh.love.notice.vo.PageVo" resultType="com.kh.love.notice.vo.NoticeVo">
		SELECT *
		FROM (
		SELECT ROWNUM AS RNUM, T.*
		FROM (
		SELECT N.NO, N.WRITER_NO, N.TITLE, N.CONTENT, N.ENROLL_DATE, N.MODIFY_DATE,
		A.ID AS WRITER_ID
		FROM NOTICE N
		JOIN ADMIN A ON A.NO = N.WRITER_NO
		WHERE N.DEL_YN = 'N'
		ORDER BY N.NO DESC
		) T
		)
		WHERE RNUM BETWEEN #{startNum} AND #{endNum}
	</select>


</mapper>